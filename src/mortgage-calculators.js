(function(){function t(a,b){var d={error:!1,data:a},c;for(c in b){if(b[c].isRequired&&void 0==a[c]){d.error=c+" is required.";break}if(b[c].isNumber&&("number"!=typeof a[c]||isNaN(a[c]))){d.error=c+" must be a number.";break}if(b[c].isNotNegative&&0>a[c]){d.error=c+" must be a positive number.";break}if(b[c].isNotZero&&0==a[c]){d.error=c+" must be greater then 0.";break}if(b[c].isNotFloat&&0!==a[c]%1){d.error=c+" must be an integer value.";break}}return d}function q(a){var b=0==a.interestRate?0:a.interestRate/
100,b=0==b?0:b/12,d=12*a.termInYears;return b*a.loanAmount*Math.pow(1+b,d)/(Math.pow(1+b,d)-1)}function v(a){var b=0==a.interestRate?0:a.interestRate/100,b=0==b?0:b/12,d=12*a.termInYears;return a.monthlyPrincipalPayment*(Math.pow(1+b,d)-1)/(b*Math.pow(1+b,d))}function f(a){return isNaN(parseFloat(a.toFixed(2)))?0:parseFloat(a.toFixed(2))}window.mortgageCalculators={};window.mortgageCalculators.monthlyMortgagePayments=function(a){var b=t(a,{loanAmount:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,
isNotFloat:!1},interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0}});return b.error?{error:b.error}:f(q(a))};window.mortgageCalculators.monthlyMortgagePaymentsWithExtraPayments=function(a){var b=t(a,{loanAmount:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,
isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},extraPaymentAmount:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1}});if(b.error)return{error:b.error};for(var d=a.interestRate/100/12,c=12*a.termInYears,b=a.extraPaymentAmount,g=q({loanAmount:a.loanAmount,interestRate:a.interestRate,termInYears:a.termInYears}),e=a.loanAmount,l=0,k=0;k<=c;k++){var m=d*e,h=g-m;0<=e-h?e>=g&&(e-=h):(g=e,e-=g);0<e&&(l+=g)}for(var p=g+b,e=a.loanAmount,n=[],k=0;k<=c;k++)m=d*e,h=g-m+b,0<=e-h?
e>=p&&(e-=h):(p=e,e-=p),0<e&&n.push({monthlyPayment:f(g+b),principalPayment:f(h),interestPayment:f(m),balance:f(e)});d=[];for(c=0;c<=Math.ceil(n.length);c+=12)d.push(n.slice(c,c+12));c=[];e=a.loanAmount;for(k=0;k<d.length;k++){for(p=h=m=0;p<d[k].length;p++)m+=d[k][p].interestPayment,h+=d[k][p].principalPayment;0<=e-h?e>=h&&(e-=h):(h=e,e-=h);c.push({annualInterestPayment:f(m),annualPrincipalPayment:f(h),balance:f(e),monthlyBreakdown:d[k]})}return{withExtraPayment:{totalMonthlyPayment:f(g+b),interestRate:a.interestRate,
term:a.termInYears,totalCost:f(n.length*(g+b)),payments:c},withoutExtraPayment:{totalMonthlyPayment:f(g),interestRate:a.interestRate,term:a.termInYears,totalCost:f(l)}}};window.mortgageCalculators.howMuchCanIBorrow=function(a){var b=t(a,{interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},grossMonthlyIncome:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},downPayment:{isRequired:!0,
isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},monthlyDebtPayment:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},yearlyPropertyTax:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},yearlyPropertyInsurance:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1}});if(b.error)return{error:b.error};var d=a.interestRate,c=a.termInYears,b=a.monthlyDebtPayment,g=a.grossMonthlyIncome,e=a.downPayment/100;a=a.yearlyPropertyTax/12+a.yearlyPropertyInsurance/
12;var l=v({termInYears:c,interestRate:d,monthlyPrincipalPayment:.36*g-b-a}),d=v({termInYears:c,interestRate:d,monthlyPrincipalPayment:.43*g-b-a});return{conservative:{priceOfHome:f(l+l*e),downPayment:f(l*e),loanAmount:f(l)},aggressive:{priceOfHome:f(d+d*e),downPayment:f(d*e),loanAmount:f(d)},futureMonthlyPayment:{conservative:{principalAndInterest:f(.36*g-b),taxesAndInsurance:f(a),totalMonthlyPayment:f(.36*g-b-a)},aggressive:{principalAndInterest:f(.43*g-b),taxesAndInsurance:f(a),totalMonthlyPayment:f(.43*
g-b-a)}}}};window.mortgageCalculators.compareFifteenVsThirtyYearMortgages=function(a){var b=t(a,{loanAmount:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},interestRate1:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},interestRate2:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1}});if(b.error)return{error:b.error};var b=a.loanAmount,d=a.interestRate2;a=q({loanAmount:b,interestRate:a.interestRate1,termInYears:15});d=q({loanAmount:b,
interestRate:d,termInYears:30});return{fifteenYearMortgage:{monthlyMortgagePayment:f(a),totalInterest:f(180*a-b),totalPayments:f(180*a)},thirtyYearMortgage:{monthlyMortgagePayment:f(d),totalInterest:f(360*d-b),totalPayments:f(360*d)}}};window.mortgageCalculators.refinanceMortgage=function(a){var b=t(a,{loanAmount:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,isNumber:!0,
isNotNegative:!0,isNotZero:!0,isNotFloat:!0},newInterestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},newTermInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},newTermInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},paymentsMade:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!0}});if(b.error)return{error:b.error};var d=a.loanAmount,c=a.interestRate,g=a.termInYears,e=a.newInterestRate,b=
a.newTermInYears,l=a.paymentsMade;a=q({loanAmount:d,interestRate:c,termInYears:g});for(var k=d,m=0,h=0;h<l;h++){var p=c/100/12*k,n=a-p;0<=k-n&&(k-=n);m+=p}d=a*g*12-d-m;c=k;e=q({loanAmount:c,interestRate:e,termInYears:b});b=e*b*12-k;return{interestSaved:f(d-b),oldMonthlyMortgage:{monthlyMortgagePayment:f(a),remainingInterest:f(d)},newMonthlyMortgage:{newMortgageTotal:f(c),monthlyMortgagePayment:f(e),remainingInterest:f(b)}}};window.mortgageCalculators.comparefixedRateVsARM=function(a){var b=t(a,{loanAmount:{isRequired:!0,
isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},monthsBeforeFirstAdjustment:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},monthsBetweenAdjustments:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},expectedAdjustmentRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,
isNotFloat:!1},initialInterestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},maximumInterestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1}});if(b.error)return{error:b.error};var d=a.termInYears,c=a.loanAmount,g=a.initialInterestRate,b=a.expectedAdjustmentRate,e=a.monthsBeforeFirstAdjustment,l=a.monthsBetweenAdjustments,k=a.maximumInterestRate;a=q({loanAmount:c,interestRate:a.interestRate,termInYears:d});for(var m=q({loanAmount:c,interestRate:g,
termInYears:d}),h=0;h<e;h++)c-=m-g/100/12*c;for(var g=g+b,h=q({loanAmount:c,interestRate:g,termInYears:d-e/12}),p=0;p<l;p++)var n=g/100/12*c,n=h-n,c=c-n;for(var d=12*d-e-l,r,e=0;e<d;e+=l){g=g<k?g+b:k;h=q({loanAmount:c,interestRate:g,termInYears:(d-e)/12});for(r=0;r<l;r++)n=g/100/12*c,n=h-n,c-=n;r=h}return response={fixedRate:{monthlyMortgagePayment:f(a)},ARM:{initialMonthlyMortgagePayment:f(m),maxMonthlyMortgagePayment:f(r)}}};window.mortgageCalculators.compareBuyVsRent=function(a){var b=t(a,{monthlyRent:{isRequired:!0,
isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},purchasePrice:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!1},downPayment:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},interestRate:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},termInYears:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},howLongBeforeSelling:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!0,isNotFloat:!0},incomeTaxRate:{isRequired:!0,
isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},expectedAnnualRentIncrease:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},closingCosts:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1},annualAppreciation:{isRequired:!0,isNumber:!0,isNotNegative:!0,isNotZero:!1,isNotFloat:!1}});if(b.error)return{error:b.error};for(var d=a.monthlyRent,c=a.expectedAnnualRentIncrease,g=a.purchasePrice,e=a.downPayment/100*g,b=g-e,l=a.interestRate,k=a.closingCosts/
100*b,m=a.howLongBeforeSelling,h=a.incomeTaxRate,p=a.annualAppreciation,n=q({loanAmount:b,interestRate:l,termInYears:a.termInYears}),r=0,w=0,x=0,v=a=0;v<m;v++){a+=12*d;for(var d=d+c/100*d,g=g+p/100*g,z=0;12>z;z++){var y=l/100/12*b,u=n-y;0<=b-u?b>=u&&(b-=u):(u=b,b-=u);w+=u;r+=y;x+=h/100*y}}c=e+(w+r-x+(b+k));d=g-b;c-=g;return{currentValueOfHome:f(g),totalOwedToBank:f(b),equityOnHome:f(d),netCostOfBuying:f(c),netCostOfRenting:f(a),benefitOfBuying:f(a-c)}}})();