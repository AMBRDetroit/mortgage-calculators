<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>How Much Can I Borrow?</title>
		<link rel="stylesheet" href="//code.jquery.com/qunit/qunit-1.20.0.css">
		<script src="//code.jquery.com/jquery-2.1.4.min.js"></script>
		<script src="//code.jquery.com/qunit/qunit-1.20.0.js"></script>
		<script src="response.js"></script>
		<script src="../../src/mortgage-calculators.js"></script>
		<script>
			
			QUnit.config.reorder = false;
			QUnit.dump.maxDepth = 6;
		
			
			// validate the inputs
			QUnit.module('Input Validation');
			// TODO
/*			
*		loanAmount (number) : (number) 
*		interestRate (number) : interest rate as an annual percentage ( will be converted into monthly percentage in calculations)	
*		termInYears (number) :  the term in years ( will be converted to number of monthly payments in calculations)
* != neg, 0 ok		paymentsMade (number) : (number) ,
* 	newInterestRate (number) : interest rate as an annual percentage ( will be converted into monthly percentage in calculations)	
* != neg, != 0 newTermInYears (number) :  the term in years ( will be converted to number of monthly payments in calculations)
*/			
			// do the calculations
			QUnit.module('Calculations');
			QUnit.test("Refinance Mortgage", function(assert) {
				var args = {
					interestRate : 3.75,
					loanAmount : 100000,
					termInYears : 30,
					paymentsMade : 12,
					newInterestRate : 2.75,
					newTermInYears : 30	
				}
				//format result to decimal places of two
				var result = mortgageCalculators.refinanceMortgage(args);
				assert.deepEqual(result, response , "100,000 @ 3.75 for 30 years vs 100,000 @ 2.75 for 30 years after 12 payments");
				var args = {
					interestRate : -3.75,
					loanAmount : 100000,
					termInYears : 30,
					paymentsMade : 12,
					newInterestRate : 2.75,
					newTermInYears : 30	
				}
				//format result to decimal places of two
				var result = mortgageCalculators.refinanceMortgage(args);
				assert.deepEqual(result, response2 , "negative interest rate");
				var args = {
					interestRate : 3.75,
					loanAmount : 100000,
					termInYears : -30,
					paymentsMade : 12,
					newInterestRate : 2.75,
					newTermInYears : 30	
				}
				//format result to decimal places of two
				var result = mortgageCalculators.refinanceMortgage(args);
				assert.deepEqual(result, response3 , "negative term in years ");
			});	
		</script>
	</head>
	<body>
		<div id="qunit"></div>
		<div id="qunit-fixture"></div>
	</body>
</html>